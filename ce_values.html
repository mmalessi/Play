<!DOCTYPE html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
	<style>
	</style>
</head>
<body>
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.js"></script>
	
<script>
		var spaceCircles = [
            {"lat":100, "long":100, "desc":"one"},
            {"lat":200, "long":100, "desc":"two"},
            {"lat":300, "long":100, "desc":"three"},
            {"lat":150, "long":200, "desc":"four"},
            {"lat":250, "long":200, "desc":"five"},
        ];
        
        var lat = spaceCircles.lat,
            long = spaceCircles.long,
            desc = spaceCircles.desc;

    
       


        var svgContainer = d3.select("body").append("svg")
                            .attr("width", 500)
                            .attr("height", 500);
    
        //Append a defs (for definition) element to your SVG
        var defs = svgContainer.append("defs");

        //Append a linearGradient element to the defs and give it a unique id
        var linearGradient = defs.append("linearGradient")
            .attr("id", "linear-gradient");
       
        //Horizontal gradient
        linearGradient
            .attr("x1", "0%")
            .attr("y1", "0%")
            .attr("x2", "100%")
            .attr("y2", "0%");
    
        //Set the color for the start (0%)
        linearGradient.append("stop")
            .attr("offset", "0%")
            .attr("stop-color", "#81bef0"); 

        //Set the color for the end (100%)
        linearGradient.append("stop")
            .attr("offset", "100%")
            .attr("stop-color", "#036aff");
 
        var circles = svgContainer.selectAll("circle")
                            .data(spaceCircles)
                            .enter()
                            .append("circle");

        var circleAttributes = circles
                               .attr("cx", function (d) { return d.lat; })
                               .attr("cy", function (d) { return d.long; })
                               .attr("r", 20 )
                               .style("fill", "url(#linear-gradient)")
                               .on("click", function (d) {
                                   console.log(this);
                                   //d3.select(this).attr("r", 50);
                                   var clickedCircle = this;
                                   
                                   d3.selectAll('circle').attr('r', function () {
                                       if (this === clickedCircle) { return 50 }
                                       else { return 20 }; });
                                   
                                   d3.selectAll('circle').transition().style('opacity',function () {
                                       if (this === clickedCircle) {return 1.0 }
                                       else { return 0.5};
                                  })});
                                
                                
</script>
</body>
</html>
